(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{111:function(e,t,n){e.exports={Post:"Post_Post__26xu9",Author:"Post_Author__kCKs0"}},112:function(e,t,n){e.exports={FullPost:"FullPost_FullPost__2lxR-",Edit:"FullPost_Edit__3fZAg",Delete:"FullPost_Delete__p89IZ"}},113:function(e,t,n){e.exports={NewPost:"NewPost_NewPost__3L4h9"}},114:function(e,t,n){e.exports={Posts:"Blog_Posts__3Zriq"}},175:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(44),s=n(47),c=n.n(s),l=n(49),u=n(48),i=n(13),p=n(14),f=n(17),d=n(15),h=n(16),v=n(10),m=n(111),b=n.n(m),P=function(e){var t=e.title,n=e.author,a=Object(v.a)(e,["title","author"]);return r.a.createElement("article",{className:b.a.Post,onClick:a.clicked},r.a.createElement("h3",null,t.length>10?"".concat(t.substr(10),"..."):t),r.a.createElement("div",{className:b.a.Info},r.a.createElement("div",{className:b.a.Author},n)))},E=n(112),g=n.n(E),j=n(53),x=n.n(j).a.create({baseURL:"https://jsonplaceholder.typicode.com"});x.interceptors.request.use(function(e){return console.log("[Exercise2.jsx] request: ",e),e},function(e){return console.log("[Exercise2.jsx] error request. It is related to the sending the request e.g. No Connection",e),Promise.reject(e)}),x.interceptors.response.use(function(e){return console.log("[Exercise2.jsx] response: ",e),e},function(e){return console.log("[Exercise2.jsx] error response",e),Promise.reject(e)});var y={fetchPostsFailed:function(){return x.get("".concat("/posts","/failing_test"))},fetchPosts:function(){return x.get("/posts")},fetchPostById:function(e){return x.get("".concat("/posts","/").concat(e))},savePost:function(e){return x.post("/posts",e)},deletePostById:function(e){return x.delete("".concat("/posts","/").concat(e))}},O=n(51),w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={post:null,postLoaded:!1},n.fetchPost=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.fetchPostById(n.props.id);case 3:return t=e.sent,e.next=6,setTimeout(function(){return n.setState({post:t.data,postLoaded:!0})},1e3);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),n.handleDeletePost=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.deletePostById(n.props.id);case 3:t=e.sent,n.setState({post:null,postLoaded:!1}),n.props.canceled(),console.log("[FullPost.jsx] DELETE response: ",t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.id&&e.id!==this.props.id&&(t.postLoaded&&this.setState({postLoaded:!1}),this.fetchPost())}},{key:"render",value:function(){var e=r.a.createElement("p",{style:{textAlign:"center"}},"Please select a Post!");return this.props.id&&(e=this.state.postLoaded?r.a.createElement("div",{className:g.a.FullPost},r.a.createElement("h1",null,this.state.post.title),r.a.createElement("p",null,this.state.post.body),r.a.createElement("div",{className:g.a.Edit},r.a.createElement("button",{className:g.a.Delete,onClick:this.handleDeletePost},"Delete"))):r.a.createElement(O.a,{style:{margin:"0 auto"}})),e}}]),t}(a.Component),_=n(113),k=n.n(_),S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",content:"",author:"Manh"},n.handlePostData=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:n.state.title,body:n.state.content,author:n.state.author},e.prev=1,e.next=4,y.savePost(t);case 4:a=e.sent,console.log("[NewPost.jsx] POST response: ",a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:k.a.NewPost},r.a.createElement("h1",null,"Add a Post"),r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}}),r.a.createElement("label",null,"Content"),r.a.createElement("textarea",{rows:"4",value:this.state.content,onChange:function(t){return e.setState({content:t.target.value})}}),r.a.createElement("label",null,"Author"),r.a.createElement("select",{value:this.state.author,onChange:function(t){return e.setState({author:t.target.value})}},r.a.createElement("option",{value:"Manh"},"Manh"),r.a.createElement("option",{value:"Patka"},"Patka")),r.a.createElement("button",{onClick:this.handlePostData},"Add Post"))}}]),t}(a.Component),N=n(114),L=n.n(N),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],selectedPostId:""},n.fetchBlogs=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.fetchPosts();case 3:t=e.sent,console.log("[Blog.jsx] Posts response: ",t),a=t.data.slice(0,4).map(function(e){return Object(l.a)({},e,{author:"Manh"})}),n.setState({posts:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),n.fetchFailed=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.fetchPostsFailed();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])})),n.handlePostSelected=function(e){n.setState({selectedPostId:e})},n.handleCancelSelectedId=function(){n.setState({selectedPostId:""})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchBlogs(),this.fetchFailed()}},{key:"render",value:function(){var e=this,t=this.state.posts.map(function(t){return r.a.createElement(P,{key:t.id,title:t.title,author:t.author,clicked:function(){return e.handlePostSelected(t.id)}})});return r.a.createElement("div",null,r.a.createElement("section",{className:L.a.Posts},t),r.a.createElement("section",null,r.a.createElement(w,{id:this.state.selectedPostId,canceled:this.handleCancelSelectedId})),r.a.createElement("section",null,r.a.createElement(S,null)))}}]),t}(a.Component);t.default=function(){return r.a.createElement(o.a,null,r.a.createElement(C,null))}},42:function(e,t,n){e.exports={navbar:"Navbar_navbar__xbn6z",ArrowLeft:"Navbar_ArrowLeft__3KYbQ"}},43:function(e,t,n){e.exports={exerciseLayout:"ExerciseLayout_exerciseLayout__1xvKk"}},44:function(e,t,n){"use strict";var a=n(13),r=n(14),o=n(17),s=n(15),c=n(16),l=n(0),u=n.n(l),i=n(9),p=n(42),f=n.n(p);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var v=u.a.createElement("path",{fill:"currentColor",d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"}),m=function(e){var t=e.svgRef,n=h(e,["svgRef"]);return u.a.createElement("svg",d({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"angle-left",className:"svg-inline--fa fa-angle-left fa-w-8",role:"img",viewBox:"0 0 256 512",ref:t},n),v)},b=u.a.forwardRef(function(e,t){return u.a.createElement(m,d({svgRef:t},e))}),P=(n.p,function(){return u.a.createElement("nav",{className:f.a.navbar},u.a.createElement(i.b,{to:"/"},u.a.createElement(b,{className:f.a.ArrowLeft})))}),E=n(43),g=n.n(E),j=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.children;return u.a.createElement("div",{className:g.a.exerciseLayout},u.a.createElement(P,null),u.a.createElement("main",null,e))}}]),t}(l.Component);t.a=j},49:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(50);function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Object(a.a)(e,t,n[t])})}return e}},50:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return a})},51:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(55),s=n.n(o);t.a=function(e){return r.a.createElement("div",{className:s.a.Spinner,style:e.style},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}},55:function(e,t,n){e.exports={Spinner:"Spinner_Spinner__k6dyA"}}}]);